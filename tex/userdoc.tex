
% Maybe some stuff about template metaprogramming in this chapter?

\chapter{User documentation}

\section{Target audience}

This document expects the reader to have a basic understanding of template
metaprogramming in C++.

%TODO

\section{Main concepts}

Mihalicza relates concepts and elements in traditional run time debuggers to
debuggers working on C++ template metaprograms\cite{mihalicza-phd}:
%TODO mihalicza tablazat (66-... oldal)

%TODO

\section{Installation}

Metashell supports the following platforms:
\begin{itemize}
    \item Linux
    \item FreeBSD
    \item OpenBSD
    \item OS X
    \item Windows
\end{itemize}

In this section, installation instructions only for Linux is described.
Instructions for other platforms can be found in the README.md file shipped
with Metashell.

\subsection{Dependencies}

Install the dependent libraries and tools:

\begin{itemize}
    \item Termcap and Readline (version 6.3 or newer)
    \item CMake (2.18.12.2 or newer)
\end{itemize}

Acquire the source code from Github\cite{github} or any release site, and cd
into the source directory:

\begin{itemize}
    \item \texttt{cd metashell}
\end{itemize}

Build Clang with Templight\cite{templight}:

\begin{itemize}
    \item \texttt{cd templight}
    \item \texttt{mkdir build}
    \item \texttt{cd build}
    \item \texttt{cmake ../llvm -DLIBCLANG\_BUILD\_STATIC=ON}
    \item \texttt{make clang}
    \item \texttt{make libclang}
    \item \texttt{make libclang\_static}
    \item \texttt{cd ..}
\end{itemize}

\subsection{Building}

Now compile Metashell:

\begin{itemize}
    \item \texttt{mkdir bin}
    \item \texttt{cd bin}
    \item \texttt{cmake ..}
    \item \texttt{make}
\end{itemize}

%TODO what kind of files appeared?

\subsection{Running tests}

To make sure everything will work correctly, running tests is advised:

\begin{itemize}
    \item \texttt{test/metashell\_test}
\end{itemize}

\section{Basic Usage}

Start metashell by running \texttt{app/metashell}.

\includegraphics[width=1\textwidth]{img/splash.eps}

%TODO maybe mention, that "> " is metashell?
After a splash screen is shown, an interactive shell with \texttt{"> "}
prompt string appears. This is the place, where the C++ code environment
required by the metaprogram can be entered.


%TODO moar usage

\section{Command reference}

In the following section, the following notations are used: command parameters
that are in square brackets are optional. Parameters that are between angle
brackets have to be replaced by the user with something.

\input{tex/command_reference}

