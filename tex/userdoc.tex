
% Maybe some stuff about template metaprogramming in this chapter?

\chapter{User documentation}

\section{Target audience}

This document expects the reader to have a basic understanding of template
metaprogramming in C++.

%TODO

\section{Main concepts}

%TODO

\section{Installation}

Metashell supports the following platforms:
\begin{itemize}
    \item Linux
    \item FreeBSD
    \item OpenBSD
    \item OS X
    \item Windows
\end{itemize}

In this section, installation instructions only for Linux is described.
Instructions for other platforms can be found in the README.md file shipped
with Metashell.

\subsection{Dependencies}

Install the dependent libraries and tools:

\begin{itemize}
    \item Termcap and Readline (version 6.3 or newer)
    \item CMake (2.18.12.2 or newer)
\end{itemize}

Acquire the source code from Github\cite{github} or any release site, and cd
into the source directory:

\begin{itemize}
    \item \lstinline$cd metashell$
\end{itemize}

Build Clang with Templight\cite{templight}:

\begin{itemize}
    \item \lstinline$cd templight$
    \item \lstinline$mkdir build$
    \item \lstinline$cd build$
    \item \lstinline$cmake ../llvm -DLIBCLANG_BUILD_STATIC=ON$
    \item \lstinline$make clang$
    \item \lstinline$make libclang$
    \item \lstinline$make libclang_static$
    \item \lstinline$cd ..$
\end{itemize}

\subsection{Building}

Now compile Metashell:

\begin{itemize}
    \item \lstinline$mkdir bin$
    \item \lstinline$cd bin$
    \item \lstinline$cmake ..$
    \item \lstinline$make$
\end{itemize}

%TODO what kind of files appeared?

\subsection{Running tests}

To make sure everything will work correctly, running tests is advised:

\begin{itemize}
    \item \lstinline$test/metashell_test$
\end{itemize}

\section{Basic Usage}

Start metashell by running \lstinline$app/metashell$.

\includegraphics[width=1\textwidth]{img/splash.eps}

%TODO maybe mention, that "> " is metashell?
After a splash screen is shown, an interactive shell with \lstinline$"> "$
prompt string appears. This is the place, where the C++ code environment
required by the metaprogram can be entered.


%TODO moar usage

\section{Command reference}

In the following section, the following notations are used: command parameters
that are in square brackets are optional. Parameters that are between angle
brackets have to be replaced by the user with something.

\input{tex/command_reference}

